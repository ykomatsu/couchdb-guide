<title>JSON Primer</title>

<meta charset="utf-8">

<link rel="stylesheet" href="../../../style.css">

<link rel="prev" href="source.html">

<link rel="next" href="btree.html">

<script src="../../../script.js"></script>

<h2 id="json">JSON Primer</h2>
<h2 id="json">JSON入門</h2>

<p>CouchDB uses <em>JavaScript Object Notation</em> (JSON) for data storage, a lightweight format based on a subset of JavaScipt syntax. One of the best bits about JSON is that it’s easy to read and write by hand, much more so than something like XML. We can parse it naturally with JavaScript because it shares part of the same syntax. This really comes in handy when we’re building dynamic web applications and we want to fetch some data from the server.
<p>CouchDBは<em>JavaScript Object Notation</em>（JSON）という、JavaScriptの構文のサブセットを基にした軽量フォーマットをデータストレージに使用しています。JSONの最も良い点として、XMLのようなものと比べて、手作業での読み書きがずっと簡単であることであることが挙げられます。JSONはJavaScriptと同じ構文を利用しているので、当然JavaScriptで解析することができます。この点は、動的なウェブアプリケーションを構築するときや、サーバーからデータを取得するときに本当に役立ちます。

<p>Here’s a sample JSON document:
<p>以下にJSONによるドキュメントの例を示します。

<pre>
{
    "Subject": "I like Plankton",
    "Author": "Rusty",
    "PostedDate": "2006-08-15T17:30:12-04:00",
    "Tags": [
        "plankton",
        "baseball",
        "decisions"
    ],
    "Body": "I decided today that I don't like baseball. I like plankton."
}
</pre>

<p>You can see that the general structure is based around key/value pairs and lists of things.
<p>JSONの一般的な構造は、キーと値のペアとリストを基礎にしていることが分かります。

<h3 id="types">Data Types</h3>
<h3 id="types">データ型</h3>

<p>JSON has a number of basic data types you can use. We’ll cover them all here.
<p>JSONでは、いくつかの基本的なデータ型を使用することができます。ここでは、それらのすべてをカバーしたいと思います。

<h4 id="numbers">Numbers</h4>
<h4 id="numbers">数値</h4>

<p>You can have positive integers: <code>"Count": 253</code>
<p>正の整数を使うことができます。<code>"Count": 253</code>

<p>Or negative integers: <code>"Score": -19</code>
<p>負の整数も使うことができます。<code>"Score": -19</code>

<p>Or floating-point numbers: <code>"Area": 456.31</code>
<p>浮動小数点数を使うこともできます。<code>"Area": 456.31</code>

<div class="aside warning">

<p>There is a subtle but important difference between floating-point numbers and decimals. When you use a number like <code>15.7</code>, this will be interpreted as <code>15.699999999999999</code> by most clients, which may be problematic for your application. For this reason, currency values are usually better represented as strings in JSON. A string like <code>"15.7"</code> will be interpreted as <code>"15.7"</code> by every JSON client.
<p>浮動小数点数と小数との間には、微妙ですが重要な違いがあります。<code>15.7</code>という数値を使う場合、これをほとんどのクライアントは<code>15.699999999999999</code>と解釈します。このことはアプリケーションにとって問題となるかも知れません。このような理由から、JSONでは通常、通貨の値については文字列として表現する方が良いといえます。<code>"15.7"</code>という文字列は、どのJSONクライアントも<code>"15.7"</code>と解釈します。

</div>

<p>Or scientific notation: <code>"Density": 5.6e+24</code>
<p>指数表記を使うこともできます。<code>"Density": 5.6e+24</code>

<h4 id="strings">Strings</h4>
<h4 id="strings">文字列</h4>

<p>You can use strings for values:
<p>文字列を値として使うことができます。

<pre>
"Author": "Rusty"
</pre>

<p>You have to escape some special characters, like tabs or newlines:
<p>タブや改行など、いくつかの特殊な文字はエスケープしなければなりません。

<pre>
"poem": "May I compare thee to some\n\tsalty plankton."
</pre>

<p>The <a href="http://www.json.org">JSON site</a> has details on what needs to be escaped.
<p><a href="http://www.json.org">JSONのサイト</a>には、どの文字列をエスケープしなければならないかについての詳細が掲載されています。

<h4 id="booleans">Booleans</h4>
<h4 id="booleans">真偽値</h4>

<p>You can have boolean true values:
<p>ブール値のtrueを使うことができます。

<pre>
"Draft": true
</pre>

<p>Or boolean false values:
<p>ブール値のfalseを使うこともできます。

<pre>
"Draft": false
</pre>

<h4 id="arrays">Arrays</h4>
<h4 id="arrays">配列</h4>

<p>An array is a list of values:
<p>配列は値のリストです。

<pre>
"Tags": ["plankton", "baseball", "decisions"]
</pre>

<p>An array can contain any other data type, including arrays:
<p>配列にはどんなデータ型でも入れることができます。配列に配列を入れることもできます。

<pre>
"Context": ["dog", [1, true], {"Location": "puddle"}]
</pre>

<h4 id="objects">Objects</h4>
<h4 id="objects">オブジェクト</h4>

<p>An object is a list of key/value pairs:
<p>オブジェクトはキーと値のペアのリストです。

<pre>
{"Subject": "I like Plankton", "Author": "Rusty"}
</pre>

<h4 id="nulls">Nulls</h4>

<p>You can have null values:
<p>null値を使うことができます。

<pre>
"Surname": null
</pre>
